---
source: noshell-macros/src/derive.rs
expression: output
---
impl MyArgs {
    pub fn try_parse_from<'a, IterTy>(input: IterTy) -> Result<Self, noshell::Error>
    where
        IterTy: Iterator<Item = &'a str> + Clone,
    {
        use noshell::parser::ParsedArgs;
        let flags = Self::parsed_flag_ids();
        let args = ParsedArgs::<'_, _, 16usize>::try_parse_from(input, flags.iter())?;
        Ok(MyArgs {
            value1: args
                .try_get_one::<u32>("value1")
                .and_then(noshell::parser::utils::check_arg_is_missing)
                .map(Option::unwrap)
                .and_then(noshell::parser::utils::check_value_is_missing)
                .map(Option::unwrap)?,
            value2: args
                .try_get_one::<u32>("value2")
                .and_then(noshell::parser::utils::check_arg_is_missing)
                .map(Option::unwrap)
                .and_then(noshell::parser::utils::check_value_is_missing)
                .map(Option::unwrap)?,
        })
    }
    pub fn parse_from<'a, IterTy>(iter: IterTy) -> Self
    where
        IterTy: Iterator<Item = &'a str> + Clone,
    {
        Self::try_parse_from(iter).expect("should parse arguments from iterator")
    }
    pub fn parsed_flag_ids() -> &'static [(noshell::parser::lexer::Flag<'static>, &'static str)] {
        static IDS: [(noshell::parser::lexer::Flag<'static>, &'static str); 2usize] = [
            (noshell::parser::lexer::Flag::Long("value1"), "value1"),
            (noshell::parser::lexer::Flag::Long("value2"), "value2"),
        ];
        &IDS
    }
}
